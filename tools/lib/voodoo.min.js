'use strict';var e=!0,h=null,n=!1;function v(){return function(){}}
(function(f,r){function U(){function z(){}function E(a,b){this.width=a;this.height=b}function F(a,b){this.x=a;this.y=b}function X(){}function L(){this.uc={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",
crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",
forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c","indigo ":"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",
lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",
moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",
seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}}function G(){function a(){function a(c){var q={},k=d[c].prototype,f;for(f in k){var g=k[f];if("function"===typeof g){if(g===b[f]){for(var p=
n,l=c+1;l<d.length;++l)if(d[l].prototype[f]!==g){p=e;break}if(!p){p=n;for(l=c-1;0<=l;--l){var r=d[l].prototype[f];if(r!==g&&"undefined"!==typeof r){g=function(a,c){return function(){return m[a][c].apply(b,arguments)}}(l,f);p=e;break}}if(!p)continue}}p={};for(l=c-1;0<=l;--l)if(d[l].prototype[f]!==g){p=m[l];break}q[f]=function(a,c,d,m){return function(){var a=b.$;b.$=m;var q={},k;for(k in d){var f=d[k];"function"===typeof f&&(q[k]=b[k],b[k]=f)}k=c.apply(b,arguments);for(var fa in q)b[fa]=q[fa];b.$=
a;return k}}(f,g,k,p)}}m.push(q)}for(var d=b.constructor.ancestors,m=[],q=0;q<d.length;++q)a(q);b.$=0<m.length?m[m.length-1]:{}}var b=this;this.$=h;Object.defineProperty(this,"base",{get:function(){b.$||a();return b.$}});this.construct.apply(this,arguments)}function T(a){var b=a[0],c=this,d;for(d in b)try{"function"===typeof b[d]&&(c[d]=function(a,b){return function(){for(var d,m=0;m<b.length;++m)d=b[m],d=d[a].apply(d,arguments);return d==b[b.length-1]?c:d}}(d,a))}catch(m){}}function w(a,b,c,d,m,
q){this.bc=a;this.h=b;this.e=c;this.fc=d;this.va=m;this.Eb=q;this.m=[]}function J(a){this.H=a}function M(){this.H={}}function V(){this.fa=n;this.sb=this.fb=0;this.o=r.createElement("div");this.o.style.position="fixed";this.o.style.zIndex=999999999;this.o.style.left="0px";this.o.style.top="0px";this.o.style.backgroundColor="black";this.o.style.color="lime";this.o.style.fontStyle="bold";this.o.style.fontSize="200%";this.o.style.fontFamily="sans-serif";this.o.display="none";var a=this;this.Cc=setInterval(function(){a.gb=
a.fb;a.Wc=a.sb;a.fb=0;a.sb=0},1E3)}function K(){}function x(){}function U(){}function A(){}function W(a){this.Da=a;this.Jc=0;this.za={};this.Ja=this.Ka=this.Ma=this.La=Number.MIN_VALUE;this.l()}function Y(){this.ta={};this.Kc=this.Lc=0;this.yb={}}function N(){this.U={};this.kb=0}function O(a,b,c,d){this.q=a;this.la=b;this.Ya="undefined"===typeof d?-1:d;this.d=c;this.p=a.model}function S(){}function aa(){}function ba(){}function B(a){this.a=a;this.Pb();this.a.pa.ub(new F(0,0));this.mc();var b=this;
this.a.on("removemodel",function(a){b.k&&a.model===b.k.p&&(b.k=h);if(b.Q)for(var d=0;3>d;++d){var m=b.Q[d];m&&a.model===m.p&&(b.Q[d]=h)}if(b.V)for(d=0;3>d;++d)(m=b.V[d])&&a.model===m.p&&(b.V[d]=h)})}function u(a,b,c,d){this.e=new THREE.Camera;this.hb=new THREE.Frustum;this.Aa=a;this.Ea=b;this.v=c;this.F=d;this.Ic();this.zc()}function H(a){this.a=a;this.h=a.h;this.dc=new THREE.Projector}function y(a,b){this.i=a;this.q=b;this.O=f.voodoo.engine.O;this.sa=h;this.d=new THREE.Object3D;this.i.add(this.d);
this.ma=[];this.da=[];this.f=new N;var c=this;Object.defineProperty(this,"objects",{get:function(){for(var a=[],b=c.d.children,q=0;q<b.length;++q)b[q].addedToVoodooScene&&a.push(b[q]);return a},enumerable:e})}function C(){this.i=new THREE.Scene}function P(a,b,c){this.t=a;this.i=b;this.q=c}function I(){this.t=[]}function s(a){this.a=a;this.W=[];this.nd();this.xc();this.yc();this.Rc();this.a.c.performanceScaling?(this.ba=new V,this.Yb=new Date,this.cc=n):this.ba=h}function t(a){a=new p(a);for(var b in a);
this.c=a;this.od();this.ib=new M;this.O=new Y;this.L=[];var c=this;Object.defineProperty(this,"models",{get:function(){for(var a=[],b=0;b<c.L.length;++b)a.push(c.L[b]);return a},enumerable:e});this.dd();switch(a.renderer){case ca.ThreeJs:this.h=new s(this);this.pa=new H(this);break;default:this.pa=this.h=h,da.eb("Unsupported renderer")}this.f=new N;this.Na=new B(this);f.voodoo.engine=this;a.standardLighting&&(new ea({color:"white"}),new Z({color:"white"}));this.Sa=this.Ta=this.Za=-1;b=0===this.c.updateInterval;
var d=0===this.c.renderInterval;a.frameLoop&&((b||d)&&this.ec(b,d),b||(this.Za=f.setInterval(function(){c.l()},this.c.updateInterval)),d||(this.Ta=f.setInterval(function(){c.h.T()},this.c.renderInterval)))}function p(a){if("undefined"!==typeof a)for(var b in a)this[b]=a[b]}z.prototype.vc=function(a){f.console.log("[voodoo] "+a)};z.prototype.eb=function(a){this.vc("**ERROR** "+a);throw"Voodoo Exception: "+a;};var da=new z;E.prototype.width=0;E.prototype.height=0;F.prototype.x=0;F.prototype.y=0;X.prototype.disableStencils=
n;X.prototype.drawStencils=n;X.prototype.showFps=n;this.debug=new X;L.prototype.convertCssColorToThreeJsColor=function(a){a=a.toLowerCase();return"#"==a[0]?this.Gb(a):0==a.indexOf("rgb(")?(a=a.substring(4,a.length-1).split(","),this.Hb(a[0],a[1],a[2])):0==a.indexOf("rgba(")?(a=a.substring(5,a.length-1).split(","),this.Hb(a[0],a[1],a[2])):0==a.indexOf("hsl(")?(a=a.substring(4,a.length-1).split(","),this.Fb(a[0],a[1],a[2])):0==a.indexOf("hsla(")?(a=a.substring(5,a.length-1).split(","),this.Fb(a[0],
a[1],a[2])):this.wc(a)};L.prototype.findAbsolutePosition=function(a){var b=0,c=0;if(a.offsetParent){do b+=a.offsetLeft,c+=a.offsetTop;while(a=a.offsetParent)}return{x:b,y:c}};L.prototype.Gb=function(a){return new THREE.Color(parseInt("0x"+a.substring(1),16))};L.prototype.Hb=function(a,b,c){a=parseFloat(a)/255;b=parseFloat(b)/255;c=parseFloat(c)/255;return(new THREE.Color).setRGB(a,b,c)};L.prototype.Fb=function(a,b,c){a=parseFloat(a);b=parseFloat(b)/100;c=parseFloat(c)/100;b*=1-Math.abs(2*c-1);var d=
a/60,m=b*(1-Math.abs(parseInt(d,10)%2-1)),q=a=0,f=0;0<=d&&1>d?(a=b,q=m):1<=d&&2>d?(a=m,q=b):2<=d&&3>d?(q=b,f=m):3<=d&&4>d?(q=m,f=b):4<=d&&5>d?(a=m,f=b):5<=d&&6>d&&(a=b,f=m);c-=0.5*b;return(new THREE.Color).setRGB(a+c,q+c,f+c)};L.prototype.wc=function(a){return this.Gb(this.uc[a.toLowerCase()])};this.utility=new L;G.prototype.construct=function(){throw"Extendable::construct not implemented";};G.prototype.base={};G.extend=function(a){function b(){d.apply(this,arguments)}function c(){}var d=this;c.prototype=
d.prototype;b.extend=d.extend;b.prototype=new c;var m=n;if("undefined"!==typeof a){var q=(m="function"===typeof a)?a.prototype:a,f;for(f in q)b.prototype[f]=q[f]}b.prototype.constructor=b;q="undefined"===typeof d.ancestors?[]:d.ancestors.slice(0);this!==G&&q.push(d);m&&(q=q.concat(a.ancestors),q.push(a));b.ancestors=q.slice(0);return b};this.Extendable=G;var D={Above:0,Below:1,BelowStencil:2,Seam:3,SeamStencil:4};w.prototype.oc=function(a){this.m.push(a)};w.prototype.Vc=function(a){a=this.m.indexOf(a);
-1!=a&&this.m.splice(a,1)};w.prototype.Eb=h;w.prototype.e=h;w.prototype.bc=h;w.prototype.h=h;w.prototype.fc=h;w.prototype.va=h;w.prototype.m=h;J.prototype["delete"]=function(a,b,c){delete this.Fa(b,c)[a]};J.prototype.get=function(a,b,c){return this.Fa(b,c)[a]};J.prototype.has=function(a,b,c){return this.Fa(b,c).hasOwnProperty(a)};J.prototype.set=function(a,b,c,d){this.Fa(c,d)[a]=b};J.prototype.Fa=function(a,b){var c,d;"undefined"===typeof a?(c=this.Zb,d=this.$b):(c=a,d=b||"*");this.H.hasOwnProperty(d)||
(this.H[d]={});this.H[d].hasOwnProperty(c)||(this.H[d][c]={});return this.H[d][c]};J.prototype.Zb="";J.prototype.$b="";M.prototype.Ib=function(a){var b=new J(this.H);b.Zb=a.name;b.$b=a.organization;return b};var $=0,g=G.extend();g.prototype.cleanUp=function(){var a=this.base.cleanUp;"function"===typeof a&&a()};g.prototype.construct=function(a){!this.viewType.prototype.above&&!this.viewType.prototype.below&&da.eb("View must exist on at least one layer");this.stencilViewType=this.stencilViewType||this.viewType;
this.bd();if("undefined"===typeof f.voodoo.engine||f.voodoo.engine===h)f.voodoo.engine=new t(new p);this.f=new N;this.cd();if("undefined"===typeof a||!a)a={};this.initialize(a);this.Ac();this.fd();this.setUpViews();f.voodoo.engine.nc(this)};g.prototype.destroy=function(){this.j(new f.voodoo.Event("destroy",this));this.tearDownViews();f.voodoo.engine.Uc(this);this.q&&this.q.destroy&&this.q.destroy();this.qa&&this.qa.destroy&&this.qa.destroy();this.cleanUp();this.f.s();this.qa=this.q=this.f=h};g.prototype.dispatch=
function(a){a.model=this;this.j(a);return this};g.prototype.initialize=function(a){var b=this.base.initialize;"function"===typeof b&&b(a)};g.prototype.off=function(a,b){this.f.lb(a,b);return this};g.prototype.on=function(a,b){this.f.mb(a,b);"load"==a&&this.Oa===this.Pa&&b.call(this,new f.voodoo.Event("load",this));return this};g.prototype.setUpViews=function(){var a=this.base.setUpViews;"function"===typeof a&&a()};g.prototype.tearDownViews=function(){var a=this.base.tearDownViews;"function"===typeof a&&
a()};g.prototype.update=function(a){var b=this.base.update;"function"===typeof b&&b(a)};g.prototype.cache=h;g.prototype.loaded=n;g.prototype.stencilView=h;g.prototype.view=h;g.prototype.j=function(a){this.f.j(this,a)};g.prototype.Ac=function(){this.m=[];this.ga=[];this.Pa=this.Oa=0;var a=f.voodoo.engine.h.W,b=this;Object.defineProperty(this,"loaded",{get:function(){return b.Oa===b.Pa},enumerable:e});for(var c=this.stencilViewType==this.viewType,d=0;d<a.length;++d){var m=a[d];switch(m.bc){case D.Above:this.viewType.prototype.above&&
this.m.push(new this.viewType(this,m));break;case D.Below:this.viewType.prototype.below&&this.m.push(new this.viewType(this,m));break;case D.Seam:this.viewType.prototype.above&&this.m.push(new this.viewType(this,m));break;case D.BelowStencil:this.viewType.prototype.below&&(c?this.m.push(new this.viewType(this,m)):this.ga.push(new this.stencilViewType(this,m)));break;case D.SeamStencil:this.viewType.prototype.below&&(c?this.m.push(new this.viewType(this,m)):this.ga.push(new this.stencilViewType(this,
m)))}}this.q=1<this.m.length?new T(this.m):this.m[0];this.qa=1<this.ga.length?new T(this.ga):this.ga[0];this.Pa=this.m.length+this.ga.length};g.prototype.ac=function(){this.Oa++;this.Oa===this.Pa&&this.j(new f.voodoo.Event("load",this))};g.prototype.bd=function(){this.Ga="<"+ ++$+",";"*"!==this.organization&&(this.Ga+=this.organization+".");this.Ga+=this.name+">"};g.prototype.cd=function(){this.H=f.voodoo.engine.ib.Ib(this);var a=this;Object.defineProperty(this,"cache",{get:function(){return a.H},
enumerable:e})};g.prototype.fd=function(){var a=this;Object.defineProperty(this,"view",{get:function(){return a.q},enumerable:e});Object.defineProperty(this,"stencilView",{get:function(){return a.qa},enumerable:e})};g.prototype.name=h;g.prototype.organization="*";g.prototype.viewType=h;g.prototype.stencilViewType=h;g.extend=function(a){a=G.extend.call(this,a);var b=this.prototype.viewType,c=a.prototype.viewType;"undefined"!==typeof b&&(b!==h&&"undefined"!==typeof c&&c!==h&&b!=c)&&(a.prototype.viewType=
b.extend(c));b=this.prototype.stencilViewType;c=a.prototype.stencilViewType;"undefined"!==typeof b&&(b!=h&&"undefined"!==typeof c&&c!=h&&b!=c)&&(a.prototype.stencilViewType=b.extend(c));b=this.prototype.name;c=a.prototype.name;"undefined"!==typeof b&&(b!==h&&"undefined"!==typeof c&&c!==h&&c!==b)&&(a.prototype.name=b+"."+c);return a};this.Model=g;var l=G.extend();l.prototype.construct=function(a,b){this.ed();this.p=a;this.S=b;this.i=this.S.fc.Jb(this);this.t=this.S.va.Kb(this);this.H=this.S.Eb.Ib(this.p);
this.dirty();this.S.oc(this);this.ja=e;this.load();this.ja&&this.p.ac()};l.prototype.destroy=function(){this.unload();this.t.s();this.i.s();this.S.Vc(this);this.H=this.S=this.i=this.t=this.p=h};l.prototype.dirty=function(){this.i.C=e};l.prototype.load=function(){var a=this.base.load;"function"===typeof a&&a()};l.prototype.unload=function(){var a=this.base.unload;"function"===typeof a&&a()};l.prototype.above=e;l.prototype.below=e;l.prototype.cache=h;l.prototype.camera=h;l.prototype.loaded=h;l.prototype.model=
h;l.prototype.renderer=h;l.prototype.scene=h;l.prototype.triggers=h;l.prototype.ed=function(){var a=this;Object.defineProperty(this,"cache",{get:function(){return a.H},enumerable:e});Object.defineProperty(this,"camera",{get:function(){return a.S.e},enumerable:e});Object.defineProperty(this,"loaded",{get:function(){return a.ja},set:function(b){a.ja=b;a.ja&&a.p.ac()},enumerable:e});Object.defineProperty(this,"model",{get:function(){return a.p},enumerable:e});Object.defineProperty(this,"renderer",{get:function(){return a.S.h},
enumerable:e});Object.defineProperty(this,"scene",{get:function(){return a.i},enumerable:e});Object.defineProperty(this,"triggers",{get:function(){return a.t},enumerable:e})};l.extend=function(a){return G.extend.call(this,a)};this.View=l;V.prototype.s=function(){this.fa&&(this.o.display="none",r.body.removeChild(this.o),this.fa=n);f.clearInterval(this.Cc)};V.prototype.Dc=function(){this.fb++;f.voodoo.debug.showFps?(this.fa||(this.o.display="block",r.body.appendChild(this.o),this.fa=e),this.o.innerHTML=
"Frames/second: "+this.gb+", Renders/second: "+this.Wc):this.fa&&(this.o.display="none",r.body.removeChild(this.o),this.fa=n)};V.prototype.T=function(){this.sb++};V.prototype.gb=0;K.prototype.fovY=0;K.prototype.position={};K.prototype.position.x=0;K.prototype.position.y=0;K.prototype.position.z=0;K.prototype.zNear=0;K.prototype.zFar=0;x.prototype.add=v();x.prototype.attach=v();x.prototype.detach=v();x.prototype.localToPage=function(){return{}};x.prototype.off=v();x.prototype.on=v();x.prototype.pageToLocal=
function(){return{}};x.prototype.remove=v();x.prototype.objects=h;x.prototype.s=v();x.prototype.C=e;x.prototype.ma=h;x.prototype.da=h;U.prototype.Jb=function(){return h};var ca={ThreeJs:0};this.Renderer=ca;A.prototype.ab=v();A.prototype.s=v();A.prototype.T=v();A.prototype.tb=v();A.prototype.Y=h;A.prototype.aa=h;A.prototype.ha=h;A.prototype.Ua=h;A.prototype.Wa=h;A.prototype.wa=h;W.prototype.lc=function(a){var b=this.Jc++;this.za[b]=a;this.jb++;a(this.La,this.Ma,this.Ka,this.Ja,e,e);return b};W.prototype.Sc=
function(a){delete this.za[a];this.jb--};W.prototype.l=function(){var a=f.voodoo.utility.findAbsolutePosition(this.Da),b=this.Da.offsetWidth,c=this.Da.offsetHeight,d=a.x!==this.La||a.y!==this.Ma,m=b!==this.Ka||c!==this.Ja;if(d||m){this.La=a.x;this.Ma=a.y;this.Ka=b;this.Ja=c;for(var q in this.za)this.za[q].call(h,this.La,this.Ma,this.Ka,this.Ja,d,m)}};W.prototype.jb=0;Y.prototype.Xa=function(a,b){var c,d;a.hasOwnProperty("VoodooTrackedElementId")?(d=a.VoodooTrackedElementId,c=this.ta[d]):(d=a.VoodooTrackedElementId=
this.Lc++,c=this.ta[d]=new W(a));var m=c.lc(b),f=this.Kc++;this.yb[f]={kd:d,jd:c,tc:m};return f};Y.prototype.Tc=function(a){var b=this.yb[a],c=b.jd,d=b.kd,b=b.tc;delete this.yb[a];c.Sc(b);0==c.jb&&(delete this.ta[d],delete c.Da.VoodooTrackedElementId)};Y.prototype.l=function(){for(var a in this.ta)this.ta[a].l()};N.prototype.s=function(){Q.ra-=this.kb;this.U=h};N.prototype.j=function(a,b){var c=this.U[b.type];if(c)for(var d=0;d<c.length;++d)c[d].call(a,b)};N.prototype.lb=function(a,b){Q.Rb(a)&&(Q.ra--,
this.kb--);var c=this.U[a];c&&c.indexOf(b)&&c.splice(c.indexOf(b),1)};N.prototype.mb=function(a,b){Q.Rb(a)&&(Q.ra++,this.kb++);this.U[a]||(this.U[a]=[]);-1==this.U[a].indexOf(b)&&this.U[a].push(b)};O.prototype.Ha=function(a){return a!=h&&this.p==a.p&&this.Ya==a.Ya};O.prototype.p=h;O.prototype.la=h;O.prototype.d=h;O.prototype.Ya=-1;O.prototype.q=h;this.n=function(a,b,c){this.type=a;this.model=b;this.triggerId="undefined"===typeof c?-1:c};this.n.prototype.Hc=function(a,b,c,d,m,f){this.client.x=a;this.client.y=
b;this.hit.x=c;this.hit.y=d;this.hit.z=m;this.button=f||0};this.n.prototype.button=0;this.n.prototype.client={};this.n.prototype.client.x=Number.MAX_VALUE;this.n.prototype.client.y=Number.MAX_VALUE;this.n.prototype.hit={};this.n.prototype.hit.x=Number.MAX_VALUE;this.n.prototype.hit.y=Number.MAX_VALUE;this.n.prototype.hit.z=Number.MAX_VALUE;this.n.prototype.model=h;this.n.prototype.object=h;this.n.prototype.size={};this.n.prototype.size.x=Number.MAX_VALUE;this.n.prototype.size.y=Number.MAX_VALUE;this.n.prototype.type=
h;this.n.prototype.triggerId=-1;this.Event=this.n;var Q={ra:0,Rb:function(a){return"mouseup"===a||"mousedown"===a||"click"===a||"dblclick"===a||"mousemove"===a||"mouseover"===a||"mouseout"===a}};S.prototype.add=v();S.prototype.cursor=function(a){this.Lb=a};S.prototype.remove=v();S.prototype.s=v();S.prototype.Lb="auto";aa.prototype.Kb=function(){return h};aa.prototype.t=h;ba.prototype.Ra=function(){return h};ba.prototype.ub=v();B.prototype.mc=function(){var a=this;r.addEventListener("mousemove",function(b){a.Nc(b)},
n);r.addEventListener("mousedown",function(b){a.Mc(b)},n);r.addEventListener("mouseup",function(b){a.Oc(b)},n)};B.prototype.s=function(){this.Pb();this.a=h};B.prototype.P=function(a,b,c,d){a=new f.voodoo.Event(a,b.p,b.Ya);a.Hc(this.bb,this.cb,this.Vb,this.Wb,this.Xb,c);(d||b).p.j(a)};B.prototype.Pb=function(){this.k=h;this.Q=[h,h,h];this.V=[h,h,h];this.qd=n;this.nb=[n,n,n];this.Qa=n;this.Xb=this.Wb=this.Vb=this.cb=this.bb=0;this.Ub=[h,h,h];this.Sb=[0,0,0];this.Tb=[0,0,0]};B.prototype.Mc=function(a){if(this.k!=
h){a.preventDefault();var b=this.V[a.button],c=new Date-this.Ub[a.button];this.Q[a.button]=this.k;this.P("mousedown",this.k,a.button);this.Q[a.button].Ha(b)&&(this.Sb[a.button]==a.clientX&&this.Tb[a.button]==a.clientY&&c<=this.a.c.Bc)&&(this.nb[a.button]=e)}};B.prototype.Nc=function(a){this.k!=h&&a.preventDefault();this.bb=a.clientX;this.cb=a.clientY;this.Qa=e;this.a.c.realtime&&this.l()};B.prototype.Oc=function(a){if(this.k!=h){a.preventDefault();this.P("mouseup",this.k,a.button);var b=this.Q[a.button],
c=this.V[a.button];b&&this.k!=b&&this.P("mouseup",this.k,a.button,b);this.k.Ha(b)&&(this.P("click",this.Q[a.button],a.button),this.nb[a.button]&&b.Ha(c)?(this.V[a.button]=h,this.nb[a.button]=n,this.P("dblclick",b,a.button)):(this.V[a.button]=b,this.Ub[a.button]=new Date,this.Sb[a.button]=a.clientX,this.Tb[a.button]=a.clientY))}this.Q[a.button]=h};B.prototype.Ra=function(){var a=this.a.pa.Ra();this.Vb=a.Ec;this.Wb=a.Fc;this.Xb=a.Gc;return a.ua};B.prototype.l=function(){this.Qa&&this.a.pa.ub(new F(this.bb,
this.cb));if(!(0>=Q.ra)){var a=this.Ra();a!=h?(this.Qa&&this.P("mousemove",a),a.Ha(this.k)||(this.k!=h&&this.P("mouseout",this.k),this.P("mouseover",a)),this.a.h.ab(e)):(this.k!=h&&this.P("mouseout",this.k),this.a.h.ab(n));this.k=a;this.Qa=n;this.k!=h?this.a.h.tb(this.k.d.Lb):this.a.h.tb("auto")}};u.prototype=new K;u.prototype.constructor=u.constructor;u.prototype.zc=function(){var a=this;Object.defineProperty(this,"fovY",{get:function(){return a.Ea},enumerable:e});Object.defineProperty(this,"position",
{get:function(){return{x:a.e.position.x,y:a.e.position.y,z:a.e.position.z}},enumerable:e});Object.defineProperty(this,"zNear",{get:function(){return a.v},enumerable:e});Object.defineProperty(this,"zFar",{get:function(){return this.F},enumerable:e})};u.prototype.Ic=function(){this.oa=this.ob=this.pb=e;this.e.up.x=0;this.e.up.y=-1;this.e.up.z=0;this.ea();this.l();var a=this;f.addEventListener("scroll",function(){a.na()},n);f.addEventListener("resize",function(){a.ea()},n);this.M=e};u.prototype.na=function(){this.pb=
e};u.prototype.ea=function(){this.ob=e;this.na()};u.prototype.X=function(a,b){this.v=a;this.F=b;this.e.projectionMatrix.makePerspective(this.Ea,this.Ab,this.v,this.F);this.oa=e;this.l()};u.prototype.l=function(){if(this.ob){var a=parseInt(this.Aa.style.width,10),b=parseInt(this.Aa.style.height,10);this.Ab=a/b;a=Math.tan(this.Ea/360*Math.PI);this.pd=b/2/a;this.e.projectionMatrix.makePerspective(this.Ea,this.Ab,this.v,this.F);this.e.position.z=this.pd;this.e.scale.x=-1;this.ob=n;this.oa=this.M=e}this.pb&&
(a=parseInt(this.Aa.style.width,10),b=parseInt(this.Aa.style.height,10),this.e.position.x=a/2+f.pageXOffset,this.e.position.y=b/2+f.pageYOffset,this.e.lookAt(new THREE.Vector3(this.e.position.x,this.e.position.y,0)),this.pb=n,this.oa=this.M=e);this.oa&&(this.e.updateMatrixWorld(e),b=new THREE.Matrix4,b.getInverse(this.e.matrixWorld),this.hb.setFromMatrix((new THREE.Matrix4).multiplyMatrices(this.e.projectionMatrix,b)),this.oa=n)};u.prototype.e=h;u.prototype.hb=h;u.prototype.M=n;H.prototype=new ba;
H.prototype.constructor=H.constructor;H.prototype.Mb=function(a,b){for(var c=this.h.Y.va.t,d=0;d<c.length;++d){var m=c[d],f=m.p,g=this.jc.intersectObject(m.la,e);if(!(0>=g.length)&&!(0>=g[0].distance||g[0].distance>=a.Ca))if(!this.a.c.belowLayer||!(0>g[0].point.z&&m.q.below&&this.a.c.stencils&&f.viewType!=f.stencilViewType&&-1===b.indexOf(f)))a.Ca=g[0].distance,a.ua=m,a.rb=g[0].point}return a};H.prototype.Nb=function(a,b){for(var c=this.h.aa.va.t,d=0;d<c.length;++d){var m=c[d],f=m.p,g=m.la;if(!this.a.c.aboveLayer||
!f.view.above)if(g=this.Bb.intersectObject(g,e),!(0>=g.length)&&!(0<=g[0].point.z)&&!(0>=g[0].distance||g[0].distance>=a.Ca))if(!this.a.c.stencils||!(f.viewType!=f.stencilViewType&&-1===b.indexOf(f)))a.Ca=g[0].distance,a.ua=m,a.rb=g[0].point}return a};H.prototype.Ob=function(){for(var a=[],b=this.h.ha.va.t,c=0;c<b.length;++c){var d=b[c],f=d.la,q=d.p;q.viewType!==q.stencilViewType&&d.q.below&&-1===b.indexOf(q)&&0<this.Bb.intersectObject(f,e).length&&a.push(q)}return a};H.prototype.Ra=function(){var a=
{Ca:Number.MAX_VALUE,ua:h,rb:h};if(this.a.c.belowLayer&&this.a.c.aboveLayer)var b=this.a.c.stencils?this.Ob():[],a=this.Mb(a,b),a=this.Nb(a,b);else this.a.c.aboveLayer?a=this.Mb(a,[]):this.a.c.belowLayer&&(b=this.Ob(),a=this.Nb(a,b));b=a.rb;return{ua:a.ua,Ec:b?b.x:Number.MAX_VALUE,Fc:b?b.y:Number.MAX_VALUE,Gc:b?b.z:Number.MAX_VALUE}};H.prototype.ub=function(a){var b=2*(a.x/this.h.wa.width)-1;a=2*-(a.y/this.h.wa.height)+1;if(this.a.c.aboveLayer){var c=this.h.Y.e.e;this.xa=new THREE.Vector3(b,a,1);
this.dc.unprojectVector(this.xa,c);this.xa=this.xa.sub(c.position).normalize();this.jc=new THREE.Raycaster(c.position,this.xa)}this.a.c.belowLayer&&(c=this.h.aa.e.e,this.ya=new THREE.Vector3(b,a,1),this.dc.unprojectVector(this.ya,c),this.ya=this.ya.sub(c.position).normalize(),this.Bb=new THREE.Raycaster(c.position,this.ya))};y.prototype=new x;y.prototype.constructor=y.constructor;y.prototype.add=function(a){a.addedToVoodooTriggers?a.visible=e:this.d.add(a);a.addedToVoodooScene=e;this.ma.push(a);this.Qb(a)&&
this.da.push(a);this.C=e;var b=new f.voodoo.Event("add");b.object=a;this.f.j(this.q,b)};y.prototype.attach=function(a,b,c){"undefined"===typeof b&&(b=e);"undefined"===typeof c&&(c=e);this.sa!==h&&this.detach();var d=this;a&&"undefined"!==typeof a&&(this.sa=b?c?this.O.Xa(a,function(b,c,g,l,k,p){d.d.position.x=b+g/2;d.d.position.y=c+l/2;d.d.scale.x=d.d.scale.y=1;d.d.updateMatrixWorld(e);d.C=e;k&&(k=new f.voodoo.Event("move"),k.object=a,k.client.x=b,k.client.y=c,k.size.x=g,k.size.y=l,d.f.j(h,k));p&&
(k=new f.voodoo.Event("resize"),k.object=a,k.client.x=b,k.client.y=c,k.size.x=g,k.size.y=l,d.f.j(h,k))}):this.O.Xa(a,function(b,c,g,l,k,p){d.d.position.x=b+g/2;d.d.position.y=c+l/2;d.d.scale.x=g;d.d.scale.y=l;d.d.updateMatrixWorld(e);d.C=e;k&&(k=new f.voodoo.Event("move"),k.object=a,k.client.x=b,k.client.y=c,k.size.x=g,k.size.y=l,d.f.j(h,k));p&&(k=new f.voodoo.Event("resize"),k.object=a,k.client.x=b,k.client.y=c,k.size.x=g,k.size.y=l,d.f.j(h,k))}):c?this.O.Xa(a,function(b,c,g,l,k,p){d.d.position.x=
b;d.d.position.y=c;d.d.scale.x=d.d.scale.y=1;d.d.updateMatrixWorld(e);d.C=e;k&&(k=new f.voodoo.Event("move"),k.object=a,k.client.x=b,k.client.y=c,k.size.x=g,k.size.y=l,d.f.j(h,k));p&&(k=new f.voodoo.Event("resize"),k.object=a,k.client.x=b,k.client.y=c,k.size.x=g,k.size.y=l,d.f.j(h,k))}):this.O.Xa(a,function(b,c,g,l,k,p){d.d.position.x=b;d.d.position.y=c;d.d.scale.x=g;d.d.scale.y=l;d.d.updateMatrixWorld(e);d.C=e;k&&(k=new f.voodoo.Event("move"),k.object=a,k.client.x=b,k.client.y=c,k.size.x=g,k.size.y=
l,d.f.j(h,k));p&&(k=new f.voodoo.Event("resize"),k.object=a,k.client.x=b,k.client.y=c,k.size.x=g,k.size.y=l,d.f.j(h,k))}),b=new f.voodoo.Event("attach"),b.object=a,this.f.j(this.q,b))};y.prototype.detach=function(){var a=new f.voodoo.Event("detach");this.f.j(h,a);this.O.Tc(this.sa);this.sa=h;this.d.position.x=this.d.position.y=0;this.d.scale.x=this.d.scale.y=1;this.d.updateMatrixWorld(e)};y.prototype.localToPage=function(a){return"undefined"!==typeof a.x?{x:a.x*this.d.scale.x+this.d.position.x,y:a.y*
this.d.scale.y+this.d.position.y,z:a.z*this.d.scale.z+this.d.position.z}:[a[0]*this.d.scale.x+this.d.position.x,a[1]*this.d.scale.y+this.d.position.y,a[2]*this.d.scale.z+this.d.position.z]};y.prototype.off=function(a,b){this.f.lb(a,b)};y.prototype.on=function(a,b){this.f.mb(a,b)};y.prototype.pageToLocal=function(a){return"undefined"!==typeof a.x?{x:(a.x-this.d.position.x)/this.d.scale.x,y:(a.y-this.d.position.y)/this.d.scale.y,z:(a.z-this.d.position.z)/this.d.scale.z}:[(a[0]-this.d.position.x)/this.d.scale.x,
(a[1]-this.d.position.y)/this.d.scale.y,(a[2]-this.d.position.z)/this.d.scale.z]};y.prototype.remove=function(a){var b=new f.voodoo.Event("remove");b.object=a;this.f.j(this.q,b);a.addedToVoodooTriggers?a.visible=n:this.d.remove(a);a.addedToVoodooScene=n;b=this.ma.indexOf(a);-1!=b&&this.ma.splice(b,1);this.Qb(a)&&(b=this.da.indexOf(a),-1!=b&&this.da.splice(b,1));this.C=e};y.prototype.s=function(){this.i.remove(this.d);this.sa!==h&&this.detach();this.f.s();this.d=this.q=this.i=this.f=h};y.prototype.Qb=
function(a){return a instanceof THREE.Mesh||a instanceof THREE.MorphAnimMesh||a instanceof THREE.SkinnedMesh||a instanceof THREE.Line};C.prototype=new U;C.prototype.constructor=C.constructor;C.prototype.Jb=function(a){return new y(this.i,a)};C.prototype.i=h;P.prototype=new S;P.prototype.constructor=P.constructor;P.prototype.add=function(a,b){this.t.push(new O(this.q,a,this,b));a.addedToVoodooScene||(a.visible=n,this.i.add(a));a.addedToVoodooTriggers=e};P.prototype.remove=function(a){for(var b=0;b<
this.t.length;++b)this.t[b].la==a&&this.t.splice(b,1);a.addedToVoodooScene&&this.i.remove(a);a.addedToVoodooTriggers=n};P.prototype.s=function(){this.q=this.i=this.t=h};I.prototype=new aa;I.prototype.constructor=I.constructor;I.prototype.Kb=function(a){return new P(this.t,a.scene.i,a)};s.prototype=new A;s.prototype.constructor=s.constructor;s.prototype.ab=function(a){a?(this.a.c.aboveLayer&&(this.G.style.pointerEvents="auto"),this.a.c.belowLayer&&(this.A.style.pointerEvents="auto"),this.a.c.seamLayer&&
(this.D.style.pointerEvents="auto")):(this.a.c.aboveLayer&&(this.G.style.pointerEvents="none"),this.a.c.belowLayer&&(this.A.style.pointerEvents="none"),this.a.c.seamLayer&&(this.D.style.pointerEvents="none"))};s.prototype.ia=function(a){if(a&&"undefined"!==typeof a)for(var b in a.m)a.m[b].scene.C=n};s.prototype.xc=function(){this.$a=1;var a={antialias:this.a.c.antialias,alpha:e};this.a.c.aboveLayer&&(this.Z=new THREE.WebGLRenderer(a),this.G=this.Z.domElement,this.vb(this.Z),this.G.style.zIndex=this.a.c.aboveZIndex);
this.a.c.belowLayer&&(this.B=new THREE.WebGLRenderer(a),this.A=this.B.domElement,this.vb(this.B),this.A.style.zIndex=this.a.c.belowZIndex);this.a.c.aboveLayer&&this.Z.context.getContextAttributes().antialias||this.a.c.belowLayer&&this.B.context.getContextAttributes().antialias||(this.a.c.antialias=n,this.a.c.seamLayer=n);if(!this.a.c.aboveLayer||!this.a.c.belowLayer)this.a.c.seamLayer=n;this.a.c.seamLayer&&(this.N=new THREE.WebGLRenderer({antialias:n,alpha:e}),this.D=this.N.domElement,this.vb(this.N),
this.D.style.zIndex=this.a.c.seamZIndex);this.ea(h);this.na(h)};s.prototype.yc=function(){var a=this.a.c.renderer;this.a.c.aboveLayer&&(this.J=new u(this.G,this.a.c.fovY,this.a.c.v,this.a.c.F),this.zb=new C,this.kc=new I,this.ic=new M,this.Y=new w(D.Above,a,this.J,this.zb,this.kc,this.ic),this.W.push(this.Y));this.a.c.belowLayer&&(this.K=new u(this.A,this.a.c.fovY,this.a.c.v,this.a.c.F),this.Cb=new C,this.sc=new I,this.pc=new M,this.aa=new w(D.Below,a,this.K,this.Cb,this.sc,this.pc),this.W.push(this.aa),
this.a.c.stencils&&(this.I=new u(this.A,this.a.c.fovY,this.a.c.v,this.a.c.F),this.Db=new C,this.rc=new I,this.qc=new M,this.ha=new w(D.BelowStencil,a,this.I,this.Db,this.rc,this.qc),this.W.push(this.ha)));this.a.c.seamLayer&&(this.u=new u(this.D,this.a.c.fovY,this.a.c.v,this.a.c.F),this.Va=new C,this.ad=new I,this.Xc=new M,this.Ua=new w(D.Seam,a,this.u,this.Va,this.ad,this.Xc),this.W.push(this.Ua),this.a.c.stencils&&("undefined"===typeof this.I&&(this.I=new u(this.D,this.a.c.fovY,this.a.c.v,this.a.c.F)),
this.gc=new C,this.$c=new I,this.Zc=new M,this.Wa=new w(D.SeamStencil,a,this.I,this.gc,this.$c,this.Zc),this.W.push(this.Wa)));this.qb=n;this.hc();var b=this;f.addEventListener("resize",function(){b.qb=e},n)};s.prototype.s=function(){this.a.c.aboveLayer&&r.body.removeChild(this.G);this.a.c.belowLayer&&r.body.removeChild(this.A);this.a.c.seamLayer&&r.body.removeChild(this.D);this.a.c.performanceScaling&&this.ba.s()};s.prototype.ka=function(a){if(this.C)return e;if(!a||"undefined"===typeof a)return n;
var b=a.e.hb,c;for(c in a.m){var d=a.m[c],f=d.scene;if(d.ja&&f.C){if(f.da.length!==f.ma.length)return e;var d=f.da,g;for(g in d)if(f=d[g],f.geometry&&"undefined"!==typeof f.geometry&&(f.updateMatrixWorld(e),b.intersectsObject(f)))return e}}return n};s.prototype.ea=function(a){this.md();var b=this.wa.width,c=this.wa.height,d=b+"px",g=c+"px",l=f.devicePixelRatio||1,b=b*l*this.$a,c=c*l*this.$a;this.a.c.aboveLayer&&(this.Z.setViewport(0,0,b,c),this.G.style.width=d,this.G.style.height=g,this.G.width=b,
this.G.height=c);this.a.c.belowLayer&&(this.B.setViewport(0,0,b,c),this.A.style.width=d,this.A.style.height=g,this.A.width=b,this.A.height=c);this.a.c.seamLayer&&(this.N.setViewport(0,0,b,c),this.D.style.width=d,this.D.style.height=g,this.D.width=b,this.D.height=c);r.body.style.display="none";r.body.style.display="block";this.C=e;this.a.c.realtime&&a&&this.T()};s.prototype.na=function(a){this.wb=f.pageXOffset+"px";this.xb=f.pageYOffset+"px";this.C=e;this.a.c.realtime&&a&&this.T()};s.prototype.Rc=
function(){var a=this;f.addEventListener("scroll",function(b){a.na.call(a,b)},n);f.addEventListener("resize",function(b){a.ea.call(a,b)},n)};s.prototype.T=function(){var a=n;this.ld();this.a.c.performanceScaling&&(this.ba.Dc(),this.a.c.performanceScaling&&!this.cc&&(this.ba.gb>this.a.c.Pc||0==this.a.R?this.Yb=new Date:(new Date-this.Yb)/1E3>this.a.c.Qc&&(this.$a=0.5,this.cc=e,this.ea(h))));if(this.a.c.belowLayer&&(this.ka(this.aa)||this.ka(this.ha)))this.a.c.stencils?(a=this.B.context,a.enable(a.STENCIL_TEST),
a.clearStencil(0),a.stencilOp(a.REPLACE,a.REPLACE,a.REPLACE),a.stencilFunc(a.NEVER,1,4294967295),this.B.autoClear=n,this.B.clear(),this.B.render(this.Db.i,this.I.e),a.stencilOp(a.KEEP,a.KEEP,a.KEEP),a.stencilFunc(a.EQUAL,1,4294967295)):(this.B.context.disable(this.B.context.STENCIL_TEST),this.B.autoClear=e),this.B.render(this.Cb.i,this.K.e),a=e;this.a.c.aboveLayer&&this.ka(this.Y)&&(this.Z.render(this.zb.i,this.J.e),a=e);if(this.a.c.seamLayer&&(this.ka(this.Ua)||this.ka(this.Wa))){var b=this.a.c.Yc,
c=this.u.position.z,a=this.N.context;a.enable(a.STENCIL_TEST);this.N.autoClear=n;this.N.clear();this.a.c.stencils?(a.clearStencil(1),a.stencilOp(a.REPLACE,a.REPLACE,a.REPLACE),a.stencilFunc(a.NEVER,0,4294967295),this.N.render(this.gc.i,this.I.e),this.u.X(c-b,c),this.N.render(this.Va.i,this.u.e)):a.clearStencil(0);a.stencilOp(a.REPLACE,a.REPLACE,a.REPLACE);a.stencilFunc(a.NEVER,1,4294967295);this.u.X(this.a.c.v,c-b);this.N.render(this.Va.i,this.u.e);a.stencilOp(a.KEEP,a.KEEP,a.KEEP);a.stencilFunc(a.NOTEQUAL,
1,4294967295);this.u.X(c-b,c+b);this.N.render(this.Va.i,this.u.e);a=e}this.a.c.aboveLayer&&(this.Z.context.finish(),this.G.style.left=this.wb,this.G.style.top=this.xb);this.a.c.belowLayer&&(this.B.context.finish(),this.A.style.left=this.wb,this.A.style.top=this.xb);this.a.c.seamLayer&&(this.N.context.finish(),this.D.style.left=this.wb,this.D.style.top=this.xb);this.C=n;this.ia(this.Y);this.ia(this.aa);this.ia(this.ha);this.ia(this.Ua);this.ia(this.Wa);a&&this.ba&&this.ba.T()};s.prototype.tb=function(a){this.a.c.aboveLayer&&
(this.G.style.cursor=a);this.a.c.belowLayer&&(this.A.style.cursor=a);this.a.c.seamLayer&&(this.D.style.cursor=a)};s.prototype.vb=function(a){var b=a.domElement,c=b.style;a.setFaceCulling(THREE.CullFaceFront,THREE.FrontFaceDirectionCCW);c.position="absolute";c.pointerEvents="none";r.body.appendChild(b)};s.prototype.ld=function(){"undefined"!==typeof this.J&&this.J.l();"undefined"!==typeof this.K&&this.K.l();"undefined"!==typeof this.u&&this.u.l();"undefined"!==typeof this.I&&this.I.l();this.qb&&(this.hc(),
this.qb=n);if("undefined"!==typeof this.J&&this.J.M||"undefined"!==typeof this.K&&this.K.M||"undefined"!==typeof this.u&&this.u.M||"undefined"!==typeof this.I&&this.I.M){for(var a=this.a.L,b=new f.voodoo.Event("cameramove"),c=0;c<a.length;++c)a[c].j(b);"undefined"!==typeof this.J&&(this.J.M=n);"undefined"!==typeof this.K&&(this.K.M=n);"undefined"!==typeof this.u&&(this.u.M=n);"undefined"!==typeof this.I&&(this.I.M=n)}};s.prototype.hc=function(){if(this.a.c.belowLayer)if(this.a.c.aboveLayer){var a=
this.K.position.z;this.K.X(a-0.5,this.a.c.F)}else this.K.X(this.a.c.v,this.a.c.F);this.a.c.aboveLayer&&(this.a.c.belowLayer?(a=this.J.position.z,this.J.X(this.a.c.v,a)):this.J.X(this.a.c.v,this.a.c.F))};s.prototype.md=function(){var a=r.createElement("div");a.style.cssText="position: fixed; top: 0; left: 0; bottom: 0; right: 0;";r.documentElement.insertBefore(a,r.documentElement.firstChild);this.wa=new E(a.offsetWidth,a.offsetHeight);r.documentElement.removeChild(a)};s.prototype.nd=function(){r.body.style.width=
"100%";r.body.style.height="100%";r.body.style.margin="0px"};s.prototype.W=h;t.prototype.destroy=function(){this.f.j(h,new f.voodoo.Event("destroy"));-1!==this.Za&&f.clearInterval(this.Za);-1!==this.Ta&&f.clearInterval(this.Ta);for(-1!==this.Sa&&f.cancelAnimationFrame(this.Sa);0<this.L.length;)this.L[0].destroy();this.L=h;this.h.s();this.Na.s();this.f.s();"undefined"!==typeof f.voodoo.engine&&delete f.voodoo.engine;this.L=this.f=this.Na=this.h=h;this.Sa=this.Ta=this.Za=-1;this.O=this.ib=this.c=h};
t.prototype.frame=function(){this.l();this.h.T()};t.prototype.off=function(a,b){this.f.lb(a,b)};t.prototype.on=function(a,b){this.f.mb(a,b)};t.prototype.models=h;t.prototype.nc=function(a){this.L.push(a);this.f.j(h,new f.voodoo.Event("addmodel",a))};t.prototype.Uc=function(a){this.L.splice(this.L.indexOf(a),1);this.f.j(h,new f.voodoo.Event("removemodel",a))};t.prototype.ec=function(a,b){var c=this;this.Sa=requestAnimationFrame(function(){c.ec(a,b)});a&&this.l();b&&this.h.T()};t.prototype.dd=function(){var a=
this;this.Ia=this.R=0;f.addEventListener("focus",function(){a.R=0;setTimeout(function(){a.R=Date.now()},a.c.gd)},n);f.addEventListener("blur",function(){a.R=0},n);setTimeout(function(){if(!r.hasFocus||r.hasFocus())a.R=Date.now()},a.c.hd)};t.prototype.l=function(){var a=0,b=Date.now();0!=this.R&&(a=(b-this.R)/1E3,this.R=b);a>2*this.Ia?(b=this.Ia,this.Ia=a,a=b):this.Ia=a;this.O.l();for(var b=this.L,c=0;c<b.length;++c)b[c].update(a);this.Na.l()};t.prototype.od=function(){!this.c.aboveLayer&&!this.c.belowLayer&&
da.eb("At least one layer must be enabled")};t.prototype.Na=h;t.prototype.ib=h;t.prototype.c=h;t.prototype.pa=h;t.prototype.h=h;this.engine=t.prototype.O=h;this.Engine=t;this.version=h;p.prototype.aboveLayer=e;p.prototype.aboveZIndex=9999;p.prototype.antialias=e;p.prototype.belowLayer=e;p.prototype.belowZIndex=-1;p.prototype.Bc=500;p.prototype.fovY=30;p.prototype.frameLoop=e;p.prototype.performanceScaling=e;p.prototype.Pc=45;p.prototype.Qc=3;p.prototype.realtime=e;p.prototype.renderer=ca.ThreeJs;
p.prototype.renderInterval=0;p.prototype.Yc=10;p.prototype.seamLayer=e;p.prototype.seamZIndex=1E4;p.prototype.standardLighting=e;p.prototype.stencils=e;p.prototype.gd=350;p.prototype.hd=1E3;p.prototype.updateInterval=0;p.prototype.F=1E4;p.prototype.v=0.1;this.Options=p;var R=l.extend();R.prototype.createLight=function(){throw"createLight_() undefined.";};R.prototype.load=function(){this.ca=this.createLight();this.scene.add(this.ca)};R.prototype.unload=function(){this.scene.remove(this.ca)};R.prototype.setColor=
function(a){a=f.voodoo.utility.convertCssColorToThreeJsColor(a);this.ca.color.copy(a)};g=g.extend();g.prototype.initialize=function(a){this.Ba="undefined"!==typeof a.color?a.color:h;var b=this;Object.defineProperty(this,"color",{get:function(){return b.Ba},set:function(a){b.view.setColor(a);b.Ba=a}})};g.prototype.setUpViews=function(){this.color=this.Ba?this.Ba:"black"};g.prototype.color=h;g.prototype.stencilViewType=l.extend();l=R.extend();l.prototype.createLight=function(){return new THREE.AmbientLight};
var ea=g.extend();ea.prototype.name="AmbientLight";ea.prototype.viewType=l;l=R.extend();l.prototype.createLight=function(){return new THREE.PointLight};l.prototype.load=function(){R.prototype.load.apply(this);this.updatePosition()};l.prototype.updatePosition=function(){this.ca.position.x=this.camera.position.x;this.ca.position.y=this.camera.position.y;this.ca.position.z=this.camera.position.z};var Z=g.extend();Z.prototype.name="CameraLight";Z.prototype.viewType=l;Z.prototype.setUpViews=function(){this.on("cameramove",
function(){this.view.updatePosition()})}}for(var z=["voodoo"],E=f,F=0;F<z.length-1;++F)E=E[z[F]];if("undefined"===typeof E[z[z.length-1]])E[z[z.length-1]]=new U;else{var F=E[z[z.length-1]],$=new U,T;for(T in $)F[T]=$[T]}E[z[z.length-1]].version="0.8.8"})(window,document,void 0);
